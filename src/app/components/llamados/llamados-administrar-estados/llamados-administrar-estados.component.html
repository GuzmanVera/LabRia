<div class="dialog-container">
  <h1 class="dialog-title">Información de estados del llamado: {{data.nombre}}</h1>

  <div class="dialog-content">
    <div class="dialog-field">
      <span class="dialog-label">Cantidad de entrevistas realizadas:</span>
      <span>{{entrevistasRealizadas}}/{{data.postulantes.length}}</span>
    </div>
    
    <div class="dialog-field">
      <span class="dialog-label">Cantidad de estudios de méritos realizados:</span>
      <span>{{estudiosMeritosRealizados}}/{{data.postulantes.length}}</span>
    </div>
    
    <div class="dialog-field">
      <span class="dialog-label">Estados anteriores:</span>
      <table mat-table class="dialog-table" [dataSource]="data.llamadoEstados">
        <!-- Definición de las columnas -->
        <ng-container matColumnDef="fechaHora">
          <th mat-header-cell *matHeaderCellDef>Fecha y hora</th>
          <td mat-cell *matCellDef="let estado">{{estado.fechaHora | date:'short'}}</td>
        </ng-container>
  
        <ng-container matColumnDef="usuarioTransicion">
          <th mat-header-cell *matHeaderCellDef>Usuario transición</th>
          <td mat-cell *matCellDef="let estado">{{estado.usuarioTransicion}}</td>
        </ng-container>
  
        <ng-container matColumnDef="observacion">
          <th mat-header-cell *matHeaderCellDef>Observación</th>
          <td mat-cell *matCellDef="let estado">{{estado.observacion}}</td>
        </ng-container>
  
        <ng-container matColumnDef="nombreEstado">
          <th mat-header-cell *matHeaderCellDef>Nombre del estado</th>
          <td mat-cell *matCellDef="let estado">{{estado.llamadoEstadoPosible.nombre}}</td>
        </ng-container>
  
        <tr mat-header-row *matHeaderRowDef="['fechaHora', 'usuarioTransicion', 'observacion', 'nombreEstado']"></tr>
        <tr mat-row *matRowDef="let row; columns: ['fechaHora', 'usuarioTransicion', 'observacion', 'nombreEstado'];"></tr>
      </table>
    </div>
  </div>

  <div class="dialog-actions">
    <button  *ngIf="data.isAdmin || data.isTribunal" class="dialog-button" mat-raised-button color="primary" (click)="openModificarEstadoDialog(data)">
      <mat-icon>edit</mat-icon> Modificar estado
    </button>
  </div>

</div>
